<html>
    <head>
        <script src='src/heatmap.js' type="text/javascript"></script>
    </head>

    <body>
        <button onclick='regen()'>Go Again</button>

        <script>
            var hm = new heatmap(500,500);
            document.body.appendChild(hm.canvas);

            var i,j, n=512, basedata = []
            for(i=0; i<n; i++){
                basedata.push([]);
                for(j=0;j<n;j++){
                    basedata[i][j] = Math.random();
                }
            }

            function regen(){
                var i, j;
                for(i=0; i<n; i++){
                    for(j=0;j<n;j++){
                        if(Math.random() < 0.1){
                            basedata[i][j] = Math.random();
                        }
                    }
                }
                hm.raw = JSON.parse(JSON.stringify(basedata));
                hm.drawData();
            }

            regen();
        </script>
    </body>
</html>